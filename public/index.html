<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="LordApp">
  <head>
    <meta charset="utf-8">
    <title>Lord Be With You</title>
    <!-- CSS -->
    <link rel="stylesheet" href="/css/main.css"/>
    <!-- Angular -->
    <script src="/js/angular.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script> -->
    <!-- JS -->
    <script src="/js/app.js"></script>
  </head>
  <body ng-controller="AppController as main">

    <div class="container">

      <div class="createSong">
        <h3>Start a new song</h3>
        <!-- Make a new Song Form -->
        <form ng-if="main.showNewSongForm" ng-submit="main.startNewSong()">
          Title: <input type="text" ng-model="main.newSongData.title"/><br/>
          Copyright Info: <input type="text" name="copyrightInfo" ng-model="main.newSongData.copyrightInfo"/><br/>
          <input type="submit" value="Start Song">
        </form>

        <!-- Add a verse to the song form -->
        <div class="addVerse" ng-if="!main.showNewSongForm">
          <form ng-submit="main.addNewStanza()">
            Next Verse: <textarea ng-model="main.newSongVerse"></textarea>
            <input type="submit" value="Add Slide">
          </form>
          <h3>{{main.newSongData.title}}</h3>
          <div ng-repeat="stanza in main.newSongData.lyrics">
            {{stanza.verse}}
          </div>
          <button ng-click="main.addLastStanza()">End Song</button>
        </div>
      </div>

      <div class="createSermon">
        <h3>Start a new Sermon</h3>
        <form ng-if="main.showNewSermonForm" ng-submit="main.startNewSermon()">
          Title: <input type="text" ng-model="main.newSermonData.title"/><br/>
          <input type="submit" value="Start Sermon">
        </form>

        <div class="addParagraph" ng-if="!main.showNewSermonForm">
          <form ng-submit="main.addNewParagraph()">
            Next Paragraph: <textarea ng-model="main.newSermonParagraph"></textarea>
            <input type="submit" value="Add Paragraph">
          </form>
          <h3>{{main.newSermonData.title}}</h3>
          <div ng-repeat="paragraph in main.newSermonData.body">
            {{paragraph.text}}
          </div>
          <button ng-click="main.addLastParagraph()">End Sermon</button>
        </div>
      </div>

      <div class="songList">
        <h1>Song List</h1>
        <div ng-repeat="song in main.allSongs">
          <strong>{{song.title}}</strong>
          <button ng-click="main.deleteSong(song._id);">Delete</button>
        </div>
      </div>

      <div class="sermonList">
        <h1>Sermon List</h1>
        <div ng-repeat="sermon in main.allSermons">
          <strong>{{sermon.title}}</strong>
          <button ng-click="main.deleteSermon(sermon._id);">Delete</button>
        </div>
      </div>



    </div>

  </body>
</html>
